<!DOCTYPE html>
<html lang="en" class="astro-3TJ6ABOH">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <meta name="generator" content="Astro v1.6.10">
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-chromakey-material/dist/aframe-chromakey-material.min.js"></script>
    <title>AR BI-SU DEMO</title>
  <link rel="stylesheet" href="/assets/404.b53941fd.css" />
<link rel="stylesheet" href="/assets/ar-bisu.413cd700.css" /></head>
  <body style="margin: 0; overflow: hidden;" class="astro-3TJ6ABOH">
    <video style="opacity: 0;" id="greenscreenvideo" src="/ar-asset/mstylejapan_mv-1-1.mp4" loop autoplay muted playsinline class="astro-3TJ6ABOH"></video>
    <!-- Stream video via webcam -->
    <div class="video-wrap astro-3TJ6ABOH">
      <video id="webcam" playsinline autoplay class="astro-3TJ6ABOH"></video>
    </div>

    <a-scene vr-mode-ui="enabled: false" class="astro-3TJ6ABOH">
      <a-plane material="shader: chromakey; src: #greenscreenvideo; color: 0.212,0.525,0.224" height="3" width="3" position="0 3 -2" class="astro-3TJ6ABOH"></a-plane>

      <a-plane material="shader: chromakey; src: #greenscreenvideo; color: 0.212,0.525,0.224" height="3" width="3" position="3 3 -3" class="astro-3TJ6ABOH"></a-plane>

      <a-plane material="shader: chromakey; src: #greenscreenvideo; color: 0.212,0.525,0.224" height="3" width="3" position="-3 3 -5" class="astro-3TJ6ABOH"></a-plane>
      <!--LEFT -->
      <a-plane material="shader: chromakey; src: #greenscreenvideo; color: 0.212,0.525,0.224;" height="3" width="3" position="-5 3 0" rotation="0 90 0" class="astro-3TJ6ABOH"></a-plane>

      <a-plane material="shader: chromakey; src: #greenscreenvideo; color: 0.212,0.525,0.224" height="3" width="3" position="-2 3 0" rotation="0 90 0" class="astro-3TJ6ABOH"></a-plane>

      <a-plane material="shader: chromakey; src: #greenscreenvideo; color: 0.212,0.525,0.224" height="3" width="3" position="-3 3 -3" rotation="0 90 0" class="astro-3TJ6ABOH"></a-plane>

      <a-plane material="shader: chromakey; src: #greenscreenvideo; color: 0.212,0.525,0.224" height="3" width="3" position="-3 3 -5" rotation="0 90 0" class="astro-3TJ6ABOH"></a-plane>
      <!--LEFT -->

      <!--RIGHT -->
      <a-plane material="shader: chromakey; src: #greenscreenvideo; color: 0.212,0.525,0.224;" height="3" width="3" position="0 3 5" rotation="0 -90 0" class="astro-3TJ6ABOH"></a-plane>

      <a-plane material="shader: chromakey; src: #greenscreenvideo; color: 0.212,0.525,0.224" height="3" width="3" position="0 3 2" rotation="0 -90 0" class="astro-3TJ6ABOH"></a-plane>

      <a-plane material="shader: chromakey; src: #greenscreenvideo; color: 0.212,0.525,0.224" height="3" width="3" position="3 3 3" rotation="0 -90 0" class="astro-3TJ6ABOH"></a-plane>

      <a-plane material="shader: chromakey; src: #greenscreenvideo; color: 0.212,0.525,0.224" height="3" width="3" position="5 3 3" rotation="0 -90 0" class="astro-3TJ6ABOH"></a-plane>
      <!--RIGHT -->
    </a-scene>

    <script>
      var cameraView;

      var constraints = {
        audio: false,
        video: {
          facingMode: "environment",
        },
      };

      // Access the device camera and stream to cameraView
      function cameraStart() {
        cameraView = document.querySelector("#webcam");
        navigator.mediaDevices
          .getUserMedia(constraints)
          .then(function (stream) {
            cameraView.srcObject = stream;
          })
          .catch(function (error) {
            console.error("Oops. Something is broken.", error);
          });
      }

      // Start the video stream when the window loads
      window.addEventListener("load", cameraStart, false);

      // Draw image
      var context = canvas.getContext("2d");
      snap.addEventListener("click", function () {
        // document.querySelector("a-scene").components.screenshot.getCanvas("perspective");
        document.querySelector("a-scene").components.screenshot.capture("perspective");
      });
    </script>
  </body>
</html>
