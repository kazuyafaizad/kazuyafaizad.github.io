<!DOCTYPE html>
<html lang="en" data-theme="retro">
	<head>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prism-themes@1.9.0/themes/prism-lucario.css">
		<!-- Global Metadata --><meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<link rel="icon" type="image/x-icon" href="/favicon.ico">

<!-- Primary Meta Tags -->
<title>Deploy a Website</title>
<meta name="title" content="Deploy a Website">
<meta name="description" content="Just copy from doc and edit">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url">
<meta property="og:title" content="Deploy a Website">
<meta property="og:description" content="Just copy from doc and edit">
<meta property="og:image" content="https://astro.build/social.jpg?v=1">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url">
<meta property="twitter:title" content="Deploy a Website">
<meta property="twitter:description" content="Just copy from doc and edit">
<meta property="twitter:image" content="https://astro.build/social.jpg?v=1">

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.gstatic.com">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono&family=IBM+Plex+Sans:wght@400;700&display=swap">

	<link rel="stylesheet" href="/assets/asset.fe46f22a.css"></link><script astro-script="/posts/deploy/script-0">!(function(w,p,f,c){c=w[p]=Object.assign(w[p]||{},{"debug":false});c[f]=(c[f]||[])})(window,'partytown','forward');/* Partytown 0.4.5 - MIT builder.io */
!function(t,e,n,i,r,o,a,d,s,c,p,l){function u(){l||(l=1,"/"==(a=(o.lib||"/~partytown/")+(o.debug?"debug/":""))[0]&&(s=e.querySelectorAll('script[type="text/partytown"]'),i!=t?i.dispatchEvent(new CustomEvent("pt1",{detail:t})):(d=setTimeout(w,1e4),e.addEventListener("pt0",f),r?h(1):n.serviceWorker?n.serviceWorker.register(a+(o.swPath||"partytown-sw.js"),{scope:a}).then((function(t){t.active?h():t.installing&&t.installing.addEventListener("statechange",(function(t){"activated"==t.target.state&&h()}))}),console.error):w())))}function h(t){c=e.createElement(t?"script":"iframe"),t||(c.setAttribute("style","display:block;width:0;height:0;border:0;visibility:hidden"),c.setAttribute("aria-hidden",!0)),c.src=a+"partytown-"+(t?"atomics.js?v=0.4.5":"sandbox-sw.html?"+Date.now()),e.body.appendChild(c)}function w(t,n){for(f(),t=0;t<s.length;t++)(n=e.createElement("script")).innerHTML=s[t].innerHTML,e.head.appendChild(n);c&&c.parentNode.removeChild(c)}function f(){clearTimeout(d)}o=t.partytown||{},i==t&&(o.forward||[]).map((function(e){p=t,e.split(".").map((function(e,n,i){p=p[i[n]]=n+1<i.length?"push"==i[n+1]?[]:p[i[n]]||{}:function(){(t._ptf=t._ptf||[]).push(i,arguments)}}))})),"complete"==e.readyState?u():(t.addEventListener("DOMContentLoaded",u),t.addEventListener("load",u))}(window,document,navigator,top,window.crossOriginIsolated);</script>
</head>

	<body>
		<header class="wrapper astro-MBJIPCMA">
	<article class="astro-MBJIPCMA">
		<h1 class="astro-MBJIPCMA">
			<a href="/" class="astro-MBJIPCMA">
				<svg class="logo astro-MBJIPCMA" width="32" height="32" viewBox="0 0 256 256" fill="none" xmlns="http://www.w3.org/2000/svg">
					<style>
						#flame {
							fill: #ff5d01;
						}
						#a {
							fill: #000014;
						}
					</style>
					<title>Logo</title>
					<path id="a" fill-rule="evenodd" clip-rule="evenodd" d="M163.008 18.929c1.944 2.413 2.935 5.67 4.917 12.181l43.309 142.27a180.277 180.277 0 00-51.778-17.53l-28.198-95.29a3.67 3.67 0 00-7.042.01l-27.857 95.232a180.225 180.225 0 00-52.01 17.557l43.52-142.281c1.99-6.502 2.983-9.752 4.927-12.16a15.999 15.999 0 016.484-4.798c2.872-1.154 6.271-1.154 13.07-1.154h31.085c6.807 0 10.211 0 13.086 1.157a16.004 16.004 0 016.487 4.806z" class="astro-MBJIPCMA"></path>
					<path id="flame" fill-rule="evenodd" clip-rule="evenodd" d="M168.19 180.151c-7.139 6.105-21.39 10.268-37.804 10.268-20.147 0-37.033-6.272-41.513-14.707-1.602 4.835-1.961 10.367-1.961 13.902 0 0-1.056 17.355 11.015 29.426 0-6.268 5.081-11.349 11.349-11.349 10.743 0 10.731 9.373 10.721 16.977v.679c0 11.542 7.054 21.436 17.086 25.606a23.27 23.27 0 01-2.339-10.2c0-11.008 6.463-15.107 13.974-19.87 5.976-3.79 12.616-8.001 17.192-16.449a31.024 31.024 0 003.743-14.82c0-3.299-.513-6.479-1.463-9.463z" class="astro-MBJIPCMA"></path>
				</svg>
				<span class="astro-MBJIPCMA">Faizak Blog</span>
			</a>
		</h1>
	</article>
</header>



		<div class="wrapper">
			<div class="layout astro-MJXA4FOI">
	<article class="content astro-MJXA4FOI">
		<div class="astro-MJXA4FOI">
			<header class="astro-MJXA4FOI">
				
				<p class="publish-date astro-MJXA4FOI"></p>
				<h1 class="title astro-MJXA4FOI">Deploy a Website</h1>
				<div class="author mb-3">
	<p><a href="https://twitter.com/karamelxyz" class="font-bold">@karamelxyz</a></p>
</div>

			</header>
			<main class="astro-MJXA4FOI">
				<h2 id="github-pages">GitHub Pages</h2><ol>
<li>
<p>Set the correct config <code>site</code> in <code>astro.config.mjs</code>.</p>
</li>
<li>
<p>Inside your project, create <code>deploy.sh</code> with the following content (uncommenting the appropriate lines), and run it to deploy:</p>
<pre class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #8B949E">#!/usr/bin/env sh</span></span>
<span class="line"></span>
<span class="line"><span style="color: #8B949E"># abort on errors</span></span>
<span class="line"><span style="color: #79C0FF">set</span><span style="color: #C9D1D9"> -e</span></span>
<span class="line"></span>
<span class="line"><span style="color: #8B949E"># build</span></span>
<span class="line"><span style="color: #C9D1D9">npm run build</span></span>
<span class="line"></span>
<span class="line"><span style="color: #8B949E"># navigate into the build output directory</span></span>
<span class="line"><span style="color: #79C0FF">cd</span><span style="color: #C9D1D9"> dist</span></span>
<span class="line"></span>
<span class="line"><span style="color: #8B949E"># add .nojekyll to bypass GitHub Pageâ€™s default behavior</span></span>
<span class="line"><span style="color: #C9D1D9">touch .nojekyll</span></span>
<span class="line"></span>
<span class="line"><span style="color: #8B949E"># if you are deploying to a custom domain</span></span>
<span class="line"><span style="color: #8B949E"># echo &#39;www.example.com&#39; &gt; CNAME</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">git init</span></span>
<span class="line"><span style="color: #C9D1D9">git add -A</span></span>
<span class="line"><span style="color: #C9D1D9">git commit -m </span><span style="color: #A5D6FF">&#39;deploy&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #8B949E"># if you are deploying to https://&lt;USERNAME&gt;.github.io</span></span>
<span class="line"><span style="color: #8B949E"># git push -f git@github.com:&lt;USERNAME&gt;/&lt;USERNAME&gt;.github.io.git main</span></span>
<span class="line"></span>
<span class="line"><span style="color: #8B949E"># if you are deploying to https://&lt;USERNAME&gt;.github.io/&lt;REPO&gt;</span></span>
<span class="line"><span style="color: #8B949E"># git push -f git@github.com:&lt;USERNAME&gt;/&lt;REPO&gt;.git main:gh-pages</span></span>
<span class="line"></span>
<span class="line"><span style="color: #79C0FF">cd</span><span style="color: #C9D1D9"> -</span></span></code></pre>
<blockquote>
<p>You can also run the above script in your CI setup to enable automatic deployment on each push.</p>
</blockquote>
</li>
</ol><h3 id="github-actions">GitHub Actions</h3><ol>
<li>In the target project (&#x3C;YOUR USERNAME>.github.io) repo, create <code>gh-pages</code> branch then go to Settings > Pages and set to <code>gh-pages</code> branch for GitHub Pages and set directory to <code>/</code> (root).</li>
<li>Set the correct config <code>site</code> in <code>astro.config.mjs</code>.</li>
<li>Create the file <code>.github/workflows/main.yml</code> and add in the yaml below. Make sure to edit in your own details.</li>
<li>In GitHub go to Settings > Developer settings > Personal Access tokens. Generate a new token with repo permissions.</li>
<li>In the astro project repo (not &#x3C;YOUR USERNAME>.github.io) go to Settings > Secrets and add your new personal access token with the name <code>API_TOKEN_GITHUB</code>.</li>
<li>When you push changes to the astro project repo CI will deploy them to &#x3C;YOUR USERNAME>.github.io for you.</li>
</ol><pre class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #8B949E"># Workflow to build and deploy to your GitHub Pages repo.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #8B949E"># Edit your project details here.</span></span>
<span class="line"><span style="color: #8B949E"># Remember to add API_TOKEN_GITHUB in repo Settings &gt; Secrets as well!</span></span>
<span class="line"><span style="color: #7EE787">env</span><span style="color: #C9D1D9">:</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #7EE787">githubEmail</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">&lt;YOUR GITHUB EMAIL ADDRESS&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #7EE787">deployToRepo</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">&lt;NAME OF REPO TO DEPLOY TO (E.G. &lt;YOUR USERNAME&gt;.github.io)&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7EE787">name</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">Github Pages Astro CI</span></span>
<span class="line"></span>
<span class="line"><span style="color: #79C0FF">on</span><span style="color: #C9D1D9">:</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #8B949E"># Triggers the workflow on push and pull request events but only for the main branch</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #7EE787">push</span><span style="color: #C9D1D9">:</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #7EE787">branches</span><span style="color: #C9D1D9">: [</span><span style="color: #A5D6FF">main</span><span style="color: #C9D1D9">]</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #7EE787">pull_request</span><span style="color: #C9D1D9">:</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #7EE787">branches</span><span style="color: #C9D1D9">: [</span><span style="color: #A5D6FF">main</span><span style="color: #C9D1D9">]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #8B949E"># Allows you to run this workflow manually from the Actions tab.</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #7EE787">workflow_dispatch</span><span style="color: #C9D1D9">:</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7EE787">jobs</span><span style="color: #C9D1D9">:</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #7EE787">deploy</span><span style="color: #C9D1D9">:</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #7EE787">runs-on</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">ubuntu-latest</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #7EE787">steps</span><span style="color: #C9D1D9">:</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #8B949E"># Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it</span></span>
<span class="line"><span style="color: #C9D1D9">      - </span><span style="color: #7EE787">uses</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">actions/checkout@v2</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #8B949E"># Install dependencies with npm</span></span>
<span class="line"><span style="color: #C9D1D9">      - </span><span style="color: #7EE787">name</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">Install dependencies</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #7EE787">run</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">npm ci</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #8B949E"># Build the project and add .nojekyll file to supress default behaviour</span></span>
<span class="line"><span style="color: #C9D1D9">      - </span><span style="color: #7EE787">name</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">Build</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #7EE787">run</span><span style="color: #C9D1D9">: </span><span style="color: #FF7B72">|</span></span>
<span class="line"><span style="color: #A5D6FF">          npm run build</span></span>
<span class="line"><span style="color: #A5D6FF">          touch ./dist/.nojekyll</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #8B949E"># Push to your pages repo</span></span>
<span class="line"><span style="color: #C9D1D9">      - </span><span style="color: #7EE787">name</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">Push to pages repo</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #7EE787">uses</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">cpina/github-action-push-to-another-repository@main</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #7EE787">env</span><span style="color: #C9D1D9">:</span></span>
<span class="line"><span style="color: #C9D1D9">          </span><span style="color: #7EE787">API_TOKEN_GITHUB</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">${{ secrets.API_TOKEN_GITHUB }}</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #7EE787">with</span><span style="color: #C9D1D9">:</span></span>
<span class="line"><span style="color: #C9D1D9">          </span><span style="color: #7EE787">source-directory</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">&quot;dist&quot;</span></span>
<span class="line"><span style="color: #C9D1D9">          </span><span style="color: #7EE787">destination-github-username</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">${{ github.actor }}</span></span>
<span class="line"><span style="color: #C9D1D9">          </span><span style="color: #7EE787">destination-repository-name</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">${{ env.deployToRepo }}</span></span>
<span class="line"><span style="color: #C9D1D9">          </span><span style="color: #7EE787">user-email</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">${{ env.githubEmail }}</span></span>
<span class="line"><span style="color: #C9D1D9">          </span><span style="color: #7EE787">commit-message</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">Deploy ORIGIN_COMMIT</span></span>
<span class="line"><span style="color: #C9D1D9">          </span><span style="color: #7EE787">target-branch</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">gh-pages</span></span></code></pre>
			</main>
		</div>
	</article>
</div>



		</div>
	</body></html>